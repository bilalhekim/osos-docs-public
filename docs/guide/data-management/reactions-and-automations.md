---
title: "التفاعلات"
sidebar_position: 13
---
# تعريف تفاعلات الكيان 

في المنصة، تفاعلات الكيان تهدف إلى تنفيذ إجراء معين عند وقوع حدث على مستوى الكيان. لإضافة تفاعل، اتبع الخطوات التالية:

1. انتقل إلى قائمة الإدارة.
2. اختر "التطبيقات" ثم "الوحدات".
3. ابحث عن الوحدة المعنية، ثم انتقل إلى تبويب الكيانات وابحث عن الكيان المعني.
4. اضغط على أيقونة القائمة (ثلاث نقاط متجاورة) في أعلى يسار بطاقة اسم الكيان.
5. اختر "تعديل الكيان".
6. انتقل إلى تبويب "التفاعلات".
7. اضغط على زر "إضافة تفاعل"، لتظهر شاشة إعدادات تفاعل الكيان.
8. أضف اسمًا للتفاعل (حقل إجباري قابل للترجمة).
9. اختر الحدث الذي تريد أن يتم عنده تنفيذ التفاعل. 
10. يمكن ترشيح مخرجات الحدث عن طريق الترشيح.
11. اختر الإجراء الذي سيتم تنفيذه عند تحقيق الحدث المطابق لشروط الترشيح. 

# الأحداث

الأحداث في المنصة هي التغيرات التي تطرأ على المدخلات الموجودة في الكيان، وبناءً على هذه الأحداث يقوم النظام بإجراءات محددة ضمن ضوابط وشروط محددة من قبل المدير.

## حدث إنشاء مدخل {#entry-created}

هذا الحدث يعني أنه عند إنشاء مدخل جديد في الكيان الذي يوجد فيه هذا التفاعل، سيقوم النظام بتمييز هذا الإنشاء على أنه حدث وينفذ عليه الإجراء المبرمج له تلقائيًا.

## حدث تعديل مدخل {#entry-updated}

من واجهة التفاعلات، عند اختيار حدث "تعديل مدخل"، تظهر جميع الحقول المعرفة ضمن الكيان في قائمة "الحقول" ويمكن اختيار حقول محددة منها، وبالتالي يتم تنفيذ الإجراء المقابل عند حدوث تغيير ضمن الحقول المحددة.

### تعريف تفاعل يتكون من حدث "عند تعديل المدخل"

1. قم بتعريف تفاعل جديد.
2. اختر حدث "عند تعديل المدخل".
3. سيقوم النظام بعرض قائمة "الحقول" التي تحتوي على الحقول المعرفة ضمن الكيان الحالي
4. قم باختيار حقل أو أكثر منها
5. عندما يقوم المستخدم النهائي بتغيير قيمة أحد الحقول المحددة، سيقوم النظام بقدح التفاعل وتنفيذ الإجراء المقابل.

## حدث أرشفة مدخل {#entry-archived}

هذا الحدث يعني أنه عند أرشفة مدخل ما ضمن هذا الكيان، سيقوم النظام بتمييز هذا الأرشفة على أنه حدث وينفذ عليه الإجراء المبرمج له تلقائيًا.

## حدث المؤقت {#timer}

يمكن للمنصة  أن يربط توليد الحدث بفترة زمنية محددة. يمكن أن يكون المؤقت:
- **لمرة واحدة:** يتم توليد الحدث عند تحقق المؤقت الزمني وتنفيذ الإجراء.
- **بشكل متكرر:** ضمن فترتين زمنيتين (يوميًا، أسبوعيًا، شهريًا) باستخدام تعبير cron، يتحقق الحدث عند تحقق الشرط في كل مرة.

## حدث تنفيذ إجراء في تدفق العمل 
يتولد هذا الحدث عندما يصل تنفيذ تدفق العمل إلى خطوة معينة تحتوي على إجراء محدد يتم اختياره مسبقًا ضمن التفاعل، بمجرد تنفيذ هذا الإجراء بنجاح، يتم قدح التفاعل المرتبط لتنفيذ الإجراء التالي.

**إضافة حدث عند تنفيذ إجراء في تدفق العمل:**
1. قم بتسجيل الدخول كمدير.
2. قم بالانتقال إلى الكيان المطلوب > إعدادات الكيان > تبويبة التفاعلات.
3. عند إضافة تفاعل، اختر الحدث "عند تنفيذ إجراء في تدفق عمل".
4. قم باختيار الخطوة التي يؤدي تنفيذها إلى قدح هذا الحدث، ستظهر جميع الخطوات المعرفة ضمن تدفق العمل في الكيان الحالي و الكيان المرتبط.
5. حدد الإجراء المطلوب الذي يُقدح عند تنفيذ هذا الحدث.


## حدث الوصول إلى خطوة محددة {#arrival-event}

هذا الحدث يتولد عند وصول المدخل في سير العمل إلى خطوة معينة يحددها المستخدم، وينفذ إجراء معين في النظام.

للمزيد من المعلومات، [انقر هنا](./workflows.md).

## حدث الخروج من خطوة محددة {#exit-event}

هذا الحدث يتولد عند الانتقال من خطوة إلى أخرى في سير العمل، وينفذ إجراء معين بناءً على الخيار الذي يتم الانتقال به.

للمزيد من المعلومات، [انقر هنا](./workflows.md).

## حدث مخصص {#custom-event}

الحدث المخصص يرتبط بزر يضاف إلى خيارات كل مدخل، ويتولد هذا الحدث عند الضغط على هذا الزر، مما يؤدي إلى تنفيذ الإجراء المبرمج له.

للمزيد من المعلومات حول إنشاء الزر، [انقر هنا](./buttons.md).

### مؤشر التنفيذ

يمكن تحديد خيار "مؤشر التنفيذ" لتفاعل الواجهة وضبط كيفية عرض المؤشر أثناء تنفيذ التفاعل، مما يساعد على تحسين تجربة المستخدم.

**الخطوات:**

1. قم بتسجيل الدخول كمدير.
2. قم بالانتقال إلى الكيان المطلوب > إعدادات الكيان > تبويبة التفاعلات.
3. قم بإنشاء تفاعل جديد واختيار حدث مخصص.
4. سيظهر قسم بعنوان "مؤشر التنفيذ" ،قم باختيار أحد الخيارات التالية:
    - **منع**: يعرض مؤشر التحميل ويمنع المستخدم من القيام بأي إجراء حتى الانتهاء من تنفيذ التفاعل.
    - **إعلام**: يعرض مؤشر التحميل ويسمح للمستخدم بالانتقال إلى صفحة أخرى.
    - **بدون**: لا يعرض أي مؤشر ويسمح للمستخدم بالانتقال إلى صفحة أخرى.
5. قم باختيار أحد الإجراءات المقابلة لهذا الحدث.
6. قم بحفظ التفاعل، وربطه بزر لمزيد من المعلومات حول إنشاء الز [انقر هنا](../data-management/buttons.md).

### تحديد رسالة نجاح وفشل تنفيذ تفاعل واجهة

**تحديد رسالة بدء التفاعل:**

1. قم بتسجيل الدخول إلى النظام كمدير.
2. قم بالانتقال إلى الكيان المطلوب > إعدادات الكيان > تبويبة التفاعلات.
3. قم بإنشاء تفاعل جديد واختيار حدث مخصص من قائمة الأحداث.
7. ضمن قسم "مؤشر التنفيذ " اختر منع.
8. ستظهر رسالة افتراضية ضمن قسم عند بدء التنفيذ "تم بدء التفاعل بنجاح".
9. قم بتعديل الرسالة وإدخال الرسالة المطلوب عرضها للمستخدم النهائي عند بدء التفاعل.

**تحديد رسالة نجاح التفاعل:**

1. اتبع نفس الخطوات أعلاه.
2. ستظهر رسالة افتراضية ضمن قسم عند نجاح التنفيذ "تم تنفيذ التفاعل بنجاح".
3. قم بتعديل الرسالة وإدخال الرسالة المطلوب عرضها للمستخدم النهائي عند نجاح التفاعل.


## حدث الواجهة {#interface-event}

في هذا الحدث، يتيح النظام للمستخدمين إنشاء تفاعلات مخصصة لواجهة المستخدم من خلال إضافة أحداث واجهة تحتوي على مجموعة من الحقول المحددة مسبقًا. عند تنفيذ هذا التفاعل، يعرض النظام مربع حوار يحتوي على الحقول المختارة، مما يسمح للمستخدمين بإدخال القيم المطلوبة. يوفر هذا الدليل الخطوات التفصيلية لتحديد الحقول، تخصيص مصادرها، واستخدامها ضمن الإجراءات.

**الخطوات**

1. قم بتسجيل الدخول كمدير.
2. قم بالانتقال إلى الكيان المطلوب > إعدادات الكيان > تبويبة التفاعلات.
3. قم بإنشاء تفاعل جديد واختيار حدث مخصص.
4. قم بتفعيل خيار اسأل المستخدم
5. قم بتحديد عنوان لمربع الحوار.
6. حدد مصدر الحقول من الخيارات التالية:
   - كيان ضمني: حيث يتم إدخال بيانات JSON يدويًا.
   - معرض: قم باختيار معرض معين، سوف تظهر المعارض المُفعل عليها خيار اسأل المستخدم وتكون الحقزل المحددة ضمن هذه الخيار هي نفسها الظاهرة في مربع الحوار
7. يجب أن يكون المستخدم قد اختار إجراء (مثل إرسال بريد إلكتروني، تحديث مدخل،....).
ملاحظة: يستطيع المستخدم اسناد قيم حقول الإجراء المختارة في اسأل المستخدم إلى حقول الإجراء 

**مثال:** تنفيذ تفاعل واجهة مخصص
تفاعل 1 معرف في الكيان من نوع حدث مخصص ومفعل عليه (اسأل المستخدم) والإجراء المقابل إنشاء مدخل
تم ربط التفاعل بزر واجهة المستخدم.
عند الضغط على الزر المرتبط بالتفاعل 1، يقوم النظام بقدح التفاعل.
يعرض النظام مربع حوار يحتوي على الحقول المعرفة مسبقًا ضمن قسم "اسأل المستخدم" في المعرض المختار.
قم بإدخال القيم في الحقول المطلوبة (الإجبارية) أو الاختيارية.
اضغط على إرسال لتنفيذ الإجراء
النتيجة: يتم تنفيذ الإجراء المحدد (إنشاء مدخل) باستخدام القيم المدخلة


## حدث نجاح تفاعل 

سوف تتيح لك هذه الميزة إنشاء تفاعلات متسلسلة تعتمد على نجاح تفاعلات سابقة، يوضح هذا الدليل كيفية إعداد تفاعل جديد يتم تنفيذه عند نجاح تفاعل سابق، وكيفية استخدام نتائج هذا التفاعل في إعدادات الإجراءات.

### تعريف تفاعل يتكون من حدث "نجاح تفاعل"

**تعريف تفاعل 1:**
1. قم بإنشاء تفاعل جديد باسم "تفاعل 1"
3. حدد حدث واجهة (مثال: نقر زر)
4. حدد إجراء (مثال: إنشاء مدخل)

**تعريف تفاعل 2:**
1. قم بإنشاء تفاعل جديد باسم "تفاعل 2".
3. اختر حدث بعنوان "نجاح تفاعل".
4. يقوم النظام بضبط إعدادات التفاعل ليتوافق مع التفاعل القادح (التفاعل الذي يتسبب نجاح تنفيذه في قدح التفاعل الحالي)، من حيث سياق التفاعل.
5. سيعرض النظام جميع الكيانات الموجودة في النظام، قم باختيار الكيان الذي يحتوي على التفاعل القادح.
6. سوف يتم عرض جميع التفاعلات المعرفة في هذا الكيان، اختر التفاعل المطلوب.

**مثال:**
في الكيان تم تعريف تفاعل 1 وتفاعل 2 مبني على نجاح التفاعل 1
كمستخدم نهائي عند القيام بإجراء ما يؤدي إلى قدح "تفاعل 1" سوف يتم تلقائيا قدح التفاعل 2.

#### استخدام نتائج التفاعل في إعدادات الإجراءات في تفاعل 2:
1. أثناء ضبط الإجراءات في "تفاعل 2"، يمكن للمستخدم اختيار مخرجات أو مدخلات "تفاعل 1" كقيمة لحقل من حقول الإجراء ضمن "تفاعل 2".
2. قم بتحديد الحقل المناسب من مخرجات أو مدخلات "تفاعل 1" لاستخدامه في "تفاعل 2".

## حدث تصدير ملف وفقاً لقالب
في هذا الحدث، يتيح النظام للمستخدمين إمكانية تعريف تفاعلات يتم قدحها عند تصدير الملفات مع إمكانية اختيار القالب المناسب أثناء تعريف الحدث، عند تصدير الملف يتم قدح التفاعل تلقائيًا لتنفيذ الإجراء المقابل المطلوب.

**مثال :**
تفاعل 1: الحدث هو "تصدير ملف"، والإجراء المرتبط هو "إرسال إشعار".
عند قيام المستخدم بتصدير القالب "س"، يقوم النظام تلقائيًا بإرسال إشعار إلى الجهات المختارة لإعلامهم بإتمام عملية التصدير.

## مساحات التنفيذ 

تتيح ميزة "مساحات التنفيذ" للمدير تحديد الأماكن التي يمكن فيها تنفيذ تفاعل ما، مما يمنح مرونة أكبر في تخصيص سلوك التفاعل بناءً على سياقات مختلفة داخل النظام.

**الخيارات المتاحة ضمن قائمة "مساحات التنفيذ":**

المساحة الأساسية: يتم تنفيذ التفاعل ضمن المساحة الأساسية فقط.

المساحة المسببة للتفاعل: يتم تنفيذ التفاعل فقط في المساحة التي تسببت في التفاعل.

المساحة الأساسية والمساحة المسببة للتفاعل: يتم تنفيذ التفاعل في كل من المساحة الأساسية والمساحة المسببة للتفاعل.

كل المساحات ماعدا المساحة الأساسية: يتم تنفيذ التفاعل في جميع المساحات باستثناء المساحة الأساسية.

جميع المساحات: يتم تنفيذ التفاعل في جميع المساحات، بما في ذلك المساحة الأساسية.


## ترشيح مدخلات التفاعل {#filter-reaction-input}

ترشيح مدخلات التفاعل يعني أنه يمكن تنفيذ شرط على المدخلات التي يُطبق عليها التفاعل، ويتم تنفيذه كما في الاستعلامات. لمزيد من المعلومات حول إنشاء الاستعلام، [انقر هنا](../data-management/queries.md).
يمكن للمستخدم استخدام استعلام محفوظ مسبقاُ في الكيان ويتم عرض الاستعلامات المحفوظة ضمن خيار **مصدر المدخلات**. 

**مثال:** إذا كان الحدث هو إنشاء مدخل، يمكن إضافة شرط ليتم توليد الحدث فقط عندما يتم إنشاء المدخل بواسطة عدد محدد من المستخدمين وليس الجميع.

## عتبة الحلقات
يتيح هذا الإجراء للمدير إنشاء تفاعلات تسمح بتنفيذ حلقات غير منتهية مشروطة، مع تحديد عتبة توقف الحلقات كإجراء أمان، استنادًا إلى شروط محددة.
يكون الشرط هو عبارة عن استعلام ضمن التفاعل لتحديد الأساس الذي ستعتمد عليه الحلقات.

# الإجراءات

تحتوي تفاعلات المنصة على الإجراءات التي تتيح تنفيذ أوامر محددة ديناميكيًا عند وقوع أحداث وشروط التفاعل.

## إجراء إنشاء مدخل {#create-entry}

يساعد هذا الإجراء مستخدم الإدارة على أتمتة إنشاء مدخل جديد بالكيان بطريقة ديناميكية تحت شروط محددة. يمكن تحديد الكيان الحالي أو كيان آخر في النظام وتحديد قيم الحقول المطلوبة.

### خطوات إنشاء تفاعل يقوم بإجراء إنشاء مدخل:

1. قم بتسجيل الدخول إلى النظام كمدير.
2. قم باختيار الكيان المطلوب إنشاء تفاعل فيه.
3. من تبويبة **التفاعلات**، قم بإنشاء تفاعل جديد أو تعديل تفاعل موجود.
4. قم باختيار حدث من قائمة الأحداث الموجودة.
5. قم باختيار إجراء **"إنشاء مدخل"** من قائمة الإجراءات.
6. سيتم اختيار اسم الإجراء بنفس اسم نوع الإجراء، ويمكن تغييره.
7. قم باختيار الكيان الذي تريد إنشاء مدخل فيه (يمكن اختيار الكيان الحالي أو كيان آخر).
8. سوف تظهر الحقول الإجبارية الموجودة في الكيان الذي تم اختياره (الكيان الهدف) ويجب إسناد قيم لها، وتستطيع إضافة حقول اختيارية.
9. قم بإسناد قيم لهذه الحقول من الحقول الموجودة في الكيان الحالي الذي تم إنشاء تفاعل فيه (كيان المصدر).
10. قم باختيار نوع القيمة:
    - **يدوي:** عند اختيار نوع القيمة يدوي، سوف يتم إسناد القيمة التي يتم إدخالها من قبل المستخدم لحقل الهدف.
    - **مؤشر:** يكون هذا الخيار موجودًا مع حقول الارتباط التي تشير إلى كيان المستخدمين أو حقول الارتباط من نوع مستخدم، من المؤشرات المستخدمة حاليًا:
      - **"هذا المدخل"**: يشير "هذا المدخل" إلى المدخل المحدد الذي تم قدح التفاعل عليه بمعنى آخر، هو المدخل الذي يتفاعل المستخدم معه مباشرة عندما يتم تنفيذ تفاعل ما، مثل تعديل أو إنشاء مدخل جديد بناءً على هذا المدخل.
      - **"المستخدم الحالي"**: يشير "المستخدم الحالي" إلى المستخدم الذي قام بتنفيذ الإجراء الذي أدى إلى قدح التفاعل، بمعنى آخر هو المستخدم الذي كان متصلاً بالنظام وقام بالفعل الذي أدى إلى
        تشغيل التفاعل (مثل إنشاء أو تعديل مدخل).
        يستخدم هذا المؤشر لملء حقول مثل حقل المستخدم أو حقل ارتباط يشير إلى المستخدم الذي قام بالإجراء.
        على سبيل المثال: إذا كنت ترغب في تسجيل المستخدم الذي أنشأ أو عدّل مدخلًا معينًا، يمكنك استخدام مؤشر **"المستخدم الحالي"** لملء هذا الحقل بمعلومات المستخدم الفعلي.
    - **متغير:** عند اختيار نوع القيمة "متغير"، سوف تستطيع اختيار حقل من الحقول من (كيان المصدر) المتوافقة في نمط البيانات لتعبئة الحقل في (الكيان الهدف).
        - إذا كان حقل الهدف اختياريًا، يعرض النظام جميع الحقول المتوافقة في نمط البيانات.
        - إذا كان حقل الهدف إجباريًا، يعرض النظام فقط الحقول الإجبارية المتوافقة.
        - إذا كان للحقل الهدف قيمة دنيا أو عليا للتكرار، يعرض النظام الحقول المتوافقة في التكرار مع الحقل الهدف.

#### حقل الهدف هو حقل متعدد القيم متكرر (منفرد أو في كتلة أحادية):
إذا كان الحقل الهدف متكررًا وتم ضبط قيمة دنيا أو عليا أو كليهما لتكراره، ستظهر لك فقط الحقول التي:
- تتوافق تمامًا في نمط البيانات.
- تتوافق تكراراتها مع حدود تكرار حقل الهدف.

| السيناريو  | حالة حقل المصدر                              | النتيجة                                                                                      |
|------------|----------------------------------------------|---------------------------------------------------------------------------------------------|
| سيناريو 1  | حقل مفرد القيمة منفرد أو في كتلة مفردة          | يتم ملء حقل الهدف بقيمة حقل المصدر كما هي.                                                   |
| سيناريو 2  | حقل مفرد القيمة في كتلة متكررة                 | يتم أخذ التكرار الأول للكتلة وقيمة الحقل المفرد فيها، ثم يتم ملء حقل الهدف بهذه القيمة.       |
| سيناريو 3  | حقل متكرر منفرد أو في كتلة مفردة               | يتم أخذ قيمة التكرار الأول لحقل المصدر وملء حقل الهدف بها.                                   |
| سيناريو 4  | حقل متكرر في كتلة متكررة                      | يتم أخذ قيمة التكرار الأول للكتلة، ثم قيمة أول تكرار للحقل المصدر فيها، وملء حقل الهدف بهذه القيمة. |
| سيناريو 5  | حقل متعدد القيم منفرد أو في كتلة مفردة          | يتم أخذ القيمة الأولى لحقل المصدر وملء حقل الهدف بها.                                       |
| سيناريو 6  | حقل متعدد القيم في كتلة متكررة                | يتم أخذ قيمة التكرار الأول للكتلة، ثم القيمة الأولى لحقل المصدر فيها، وملء حقل الهدف بهذه القيمة. |
| سيناريو 7  | حقل متكرر متعدد القيم منفرد أو في كتلة مفردة    | يتم أخذ التكرار الأول للحقل، ثم القيمة الأولى منه، وملء حقل الهدف بها.                       |
| سيناريو 8  | حقل متكرر متعدد القيم في كتلة متكررة           | يتم أخذ التكرار الأول للكتلة، ثم التكرار الأول للحقل المصدر فيها، وأخذ القيمة الأولى منه، ثم ملء حقل الهدف بهذه القيمة. |


#### حقل الهدف هو حقل مفرد القيمة متكرر (منفرد أو في كتلة أحادية):
إذا كان الحقل الهدف معرفًا بحد أدنى من القيم المطلوبة، ستظهر لك فقط الحقول متعددة القيم التي يكون حدها الأدنى مساويًا أو أكبر من الحد الأدنى لحقل الهدف.

| السيناريو  | حالة حقل المصدر                              | النتيجة                                                                                      |
|------------|----------------------------------------------|---------------------------------------------------------------------------------------------|
| سيناريو 1  | حقل مفرد القيمة أحادي (منفرد أو في كتلة أحادية) | يأخذ النظام قيمة حقل المصدر، ويملأ بها حقل الهدف بتكرار واحد.                               |
| سيناريو 2  | حقل مفرد القيمة أحادي في كتلة متكررة           | يأخذ النظام التكرار الأول للكتلة، ثم يأخذ قيمة حقل المصدر، ويملأ بها حقل الهدف بتكرار واحد. |
| سيناريو 3  | حقل مفرد القيمة متكرر (منفرد أو في كتلة أحادية) | يأخذ النظام قيم حقل المصدر ويملأ بها حقل الهدف.                                             |
| سيناريو 4  | حقل مفرد القيمة متكرر في كتلة متكررة           | يأخذ النظام التكرار الأول للكتلة، ثم قيمة حقل المصدر فيها ويملأ بها حقل الهدف.               |
| سيناريو 5  | حقل متعدد القيم أحادي (منفرد أو في كتلة أحادية) | يأخذ النظام قيمة حقل المصدر الأولى ويملأ بها حقل الهدف بتكرار واحد.                         |
| سيناريو 6  | حقل متعدد القيم أحادي في كتلة متكررة           | يأخذ النظام التكرار الأول لكتلة المصدر، ثم القيمة الأولى لحقل المصدر فيها ويملأ حقل الهدف بها بتكرار واحد. |
| سيناريو 7  | حقل متعدد القيم متكرر (منفرد أو في كتلة أحادية) | يأخذ النظام القيمة الأولى من كل تكرار من حقل المصدر ويملأ بها حقل الهدف.                   |
| سيناريو 8  | حقل متعدد القيم متكرر في كتلة متكررة           | يأخذ النظام التكرار الأول للكتلة، ثم يأخذ القيمة الأولى من كل تكرار من حقل المصدر ويملأ بها حقل الهدف.   |


#### حقل الهدف هو حقل مفرد القيمة (منفرد أو مفرد القيمة ضمن كتلة مفردة):
إذا كان الحقل الهدف إجباريًا، ستظهر لك فقط الحقول التي تتوافق تمامًا في نمط القيمة، وتكون إجبارية أيضًا، يجب أن تكون هذه الحقول:
- منفردة أو ضمن كتلة مفردة.
- غير موجودة ضمن كتلة متكررة يكون الحد الأدنى لتكرارها هو صفر.

| السيناريو  | حالة حقل المصدر                                                        | النتيجة                                                                                          |
|------------|----------------------------------------------------------------------|-------------------------------------------------------------------------------------------------|
| سيناريو 1  | حقل مفرد القيمة منفرد أو حقل مفرد القيمة في كتلة مفردة يحتوي على قيمة مفردة فقط  | يقوم النظام بملء حقل الهدف بقيمة حقل المصدر كما هي.                                               |
| سيناريو 2  | حقل مفرد القيمة في كتلة متكررة                                         | يقوم النظام بأخذ التكرار الأول للكتلة ثم قيمة الحقل المفرد فيها وملء حقل الهدف بها.                 |
| سيناريو 3  | حقل متكرر منفرد أو حقل متكرر في كتلة مفردة                              | يقوم النظام بأخذ قيمة التكرار الأول للحقل المصدر وملء حقل الهدف بها.                               |
| سيناريو 4  | حقل متكرر في كتلة متكررة                                               | يقوم النظام بأخذ قيمة التكرار الأول للكتلة ثم أخذ قيمة أول تكرار للحقل المصدر فيها ثم ملء حقل الهدف بالقيمة. |
| سيناريو 5  | حقل متعدد القيم منفرد أو حقل متعدد القيم في كتلة مفردة                  | يقوم النظام بأخذ القيمة الأولى للحقل المصدر وملء حقل الهدف بها.                                   |
| سيناريو 6  | حقل متعدد القيم في كتلة متكررة بأكثر من تكرار واحد                      | يقوم النظام بأخذ قيمة التكرار الأول للكتلة ثم أخذ القيمة الأولى للحقل المصدر فيها ثم ملء حقل الهدف بالقيمة. |
| سيناريو 7  | حقل متكرر متعدد القيم منفرد أو حقل متكرر متعدد القيم في كتلة مفردة        | يقوم النظام بأخذ التكرار الأول للحقل ثم القيمة الأولى منه وملء حقل الهدف بها.                     |
| سيناريو 8  | حقل متكرر متعدد القيم في كتلة متكررة                                    | يقوم النظام بأخذ قيمة التكرار الأول للكتلة ثم أخذ التكرار الأول للحقل المصدر فيها ثم أخذ القيمة الأولى منه ثم ملء حقل الهدف بالقيمة. |


## إجراء تعديل مدخل {#update-entry}

يساعد هذا الإجراء مستخدم الإدارة على أتمتة تعديل مدخل قائم بالكيان تحت شروط محددة. يمكن تحديد الكيان الحالي أو كيان مرتبط واختيار الحقول وتحديد قيمها.

## إجراء أرشفة مدخل {#archive-entry}

يساعد هذا الإجراء مستخدم الإدارة على أرشفة مدخل محدد أو المدخلات المرتبطة أو المدخلات الناتجة عن استعلام معين عند قدح التفاعل.

### تفاعل يقوم بأرشفة مدخل

1. قم بتسجيل الدخول إلى النظام كمدير.
2. قم بالانتقال إلى الكيان المطلوب > إعدادات الكيان > تبويبة التفاعلات.
3. قم بإنشاء تفاعل جديد واختيار حدث ما من قائمة الأحداث
4. قم باختيار إجراء "أرشفة مدخل" من قائمة الإجراءات:
    - سيعرض النظام قائمة منسدلة تحت عنوان "النطاق".
    - قم باختيار "هذا المدخل"، وبالتالي سيتم أرشفة المدخل الذي تم تنفيذ التفاعل عليه.

### تفاعل يقوم بأرشفة مدخل مرتبط

1. قم بتسجيل الدخول إلى النظام كمدير.
2. قم بالانتقال إلى الكيان المطلوب > إعدادات الكيان > تبويبة التفاعلات.
3. قم بإنشاء تفاعل جديد واختيار حدث مخصص من قائمة الأحداث.
4. قم باختيار إجراء "أرشفة مدخل" من قائمة الإجراءات:
    - سيعرض النظام قائمة منسدلة تحت عنوان "النطاق ".
    - قم باختيار "المدخلات المرتبطة ".
    - سوف يقوم النظام ضمن حقل العلاقة بعرض قائمة بالعلاقات الواردة المعرفة على مستوى الكيان.
    - قم باختيار العلاقة المراد أرشفة مدخلاتها المرتبطة بالمدخل الذي تم تنفيذ التفاعل عليه
  
### تفاعل يقوم بأرشفة المدخلات الناتجة عن استعلام

1. قم بتسجيل الدخول إلى النظام كمدير.
2. قم بالانتقال إلى الكيان المطلوب > إعدادات الكيان > تبويبة التفاعلات.
3. قم بإنشاء تفاعل جديد واختيار حدث مخصص من قائمة الأحداث.
5. قم باختيار إجراء "أرشفة مدخل" من قائمة الإجراءات
    - سيعرض النظام قائمة منسدلة تحت عنوان "النطاق".
    - قم باختيار "استعلام محفوظ ".
    - سوف يقوم النظام ضمن حقل الاستعلامات بعرض قائمة بالاستعلامات المعرفة على مستوى الكيان.
    - قم باختيار الاستعلام المراد أرشفة مدخلاته 

## إجراء إرسال إشعار {#send-notification}

يساعد هذا الإجراء مستخدم الإدارة على إرسال إشعارات داخل النظام. يتطلب تحديد عنوان الإشعار ومحتواه، بالإضافة إلى تحديد مستقبل الإشعار من بين الخيارات المتاحة (مستخدم، مجموعة، قائمة).

## إجراء إرسال بريد إلكتروني {#send-email}

يساعد هذا الإجراء مستخدم الإدارة على إرسال بريد إلكتروني. يتطلب تحديد موضوع الرسالة ومحتواها، وتحديد مستقبل البريد الإلكتروني من بين الخيارات المتاحة (مستخدم، مجموعة، قائمة، ثابت).

### المرسل
يوفر النظام مرونة لتحديد مرسل البريد الإلكتروني عند إنشاء أو تعديل التفاعلات، يمكن للمستخدم اختيار المرسل من بين عدة خيارات (النظام، منفذ التفاعل، مخصص)، ويتم عرض اسم المرسل وفقًا للإعدادات المحددة.
**الخطوات:**
1.  قم بتحديد إجراء "إرسال بريد إلكتروني" في إعدادات التفاعل.
2. تحديد المرسل، بعد تحديد خيار المستقبلون، انتقل إلى إعدادات "المرسل"سوف يتم عرض قائمة تحتوي الخيارات التالية:
النظام: يتم تعيين النظام كمرسل افتراضي.
منفذ التفاعل: يتم تعيين البريد الإلكتروني واسم المستخدم الذي قام بتنفيذ التفاعل.
مخصص: يتيح للمستخدم تحديد مصدر المرسل
3. عند اختيار خيار "مخصص" كمرسل، يعرض النظام خيارات إضافية لتحديد المصدر:
    - **مستخدم:** عند اختيار مستخدم يتم عرض الخيارات التالية لنوع المستخدم:
       - ثابت: يتم عرض قائمة بأسماء المستخدمين المعرفين ضمن النظام ويجب على المستخدم اختيار مستخدم واحد فقط 
       - متغير: يتم عرض قائمة بالحقول الموجودة ضمن الكيان المرتبط بكيان المستخدمين
    - **ثابت:** 
       - ثابت: يتم إدخال البريد الإلكتروني يدويًا في حقل نصي، ويجب التأكد من أن البريد الإلكتروني المدخل صحيح وفقًا للصيغة القياسية للبريد الإلكتروني.

### المرفقات
يوفر النظام إمكانية إرسال بريد إلكتروني يتضمن مرفقات يتم قراءتها من الحقول كجزء من البريد الإلكتروني. مما يسمح للمستخدم النهائي باستقبال بريد إلكتروني يحتوي على قيم حقول الملفات كمرفقات.

**الخطوات:**
1. قم بتحديد إجراء "إرسال بريد إلكتروني" في إعدادات التفاعل.
2. قم بتفعيل خيار المرفقات للبريد الإلكتروني قد تكون إما:
 - قيمة متغيرة: حدد أحد الحقول من حقول الملفات لإرفاق قيمته.
 - قيمة ثابتة: قم برفع ملف من جهازك ليتم استخدامه كمرفق ثابت.

## إجراء إرسال رسالة نصية {#send-sms}

يساعد هذا الإجراء مستخدم الإدارة على إرسال رسائل نصية. يتطلب تحديد محتوى الرسالة وتحديد مستقبل الرسالة النصية من بين الخيارات المتاحة (كيان، قائمة، ثابت).

## إجراء الاستدعاء البرمجي {#call-external-api}

يساعد هذا الإجراء مستخدم الإدارة على الاستدعاء البرمجي وربط البرمجيات الخارجية عن طريق استقبال وإرسال البيانات. يحتوي على أنواع مختلفة من الطلبات (GET، POST، PATCH، PUT، DELETE).

## إجراء تنفيذ إجراء ضمن خطوة في تدفق العمل {#execute-workflow-step-action}

يساعد هذا الإجراء مستخدم الإدارة على تنفيذ إجراء ضمن خطوات العمل في تدفق العمل عند تحقق شرط معين.

## إجراء نقل تدفق العمل إلى خطوة محددة {#move-workflow-to-step}

يساعد هذا الإجراء مستخدم الإدارة على الانتقال إلى خطوة معينة من خطوات تدفق العمل عند تحقق شرط معين.

## إجراء توليد ملف 
يساعد هذا الإجراء إمكانية إنشاء تفاعلات لتنفيذ إجراء "توليد ملف" استنادًا إلى قوالب محددة مسبقًا. يمكن تخصيص القالب وفترة الاحتفاظ بالملف، بالإضافة إلى تعيين اسم مخصص للملف المولّد. عند قدح التفاعل، يتم توليد الملف وتنزيله، مع إرسال إشعار للمستخدم عند اكتمال العملية.
**الخطوات:**
1. قم بإنشاء تفاعل جديد ضمن الكيان المطلوب.
2. اختر حدثًا من قائمة الأحداث.
3. اختر إجراء "توليد ملف" من قائمة الإجراءات.
4. اضغط على حقل "القالب"، يعرض النظام قائمة بجميع القوالب المعرفة داخل الكيان، اختر القالب المطلوب من القائمة.
5. قم بتحديد فترة الاحتفاظ بالملف:
 - "للأبد": للاحتفاظ بالملف دائمًا.
 - "فترة محددة": أدخل عدد الأيام المطلوب حذف الملف بعدها إذا لم يتم استخدامه.
6. عند اختيار القالب المطلوب، يعرض النظام خيار "تنزيل الملف المولّد".
7. قم بتفعيل الخيار لتخصيص اسم الملف.
يمكنك استخدام المتغيرات الموضعية لتسمية الملف تلقائيًا أو إدخال اسم يدوي.

مثال: عند تنفيذ إجراء يؤدي إلى قدح التفاعل (مثل حدث مخصص)، يتم توليد الملف بناءً على القالب المحدد مسبقًا.
عند انتهاء التفاعل، يرسل النظام إشعارًا للمستخدم يفيد بإتمام تصدير الملف.
يمكن للمستخدم الضغط على الإشعار لتحميل الملف مباشرة، باسم القالب المحدد أو الاسم المخصص.
