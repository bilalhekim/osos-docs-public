---
title: "الارتباط"
sidebar_position: 21
---

# حقل الارتباط

بإضافة حقل الارتباط إلى هيكل الكيان، يمكن للمستخدمين ربط المدخل الحالي بمدخل آخر في كيان أو تجميعة أخرى . حقل الارتباط يُستخدم لإنشاء علاقات بين الكيانات التجميعات المتعلقة بها.

| الاسم            | الوصف                                                                      | نمط البيانات             |
|--------------|--------------------------------------------------------------------------|------------------------|
| ارتباط  | حقل يسمح باختيار كيان/تجميعة  كارتباط.                                      | كيان                |

## الإعدادات المتقدمة

عند النقر على أيقونة الإعدادات في حقل الارتباط في هيكل الكيان، سيتم فتح نافذة جانبية للإعدادات المتقدمة لحقل الارتباط، تظهر هاته النافذة عدة أقسام، و هي كالتالي :

### الإعدادات الأساسية

هذا القسم يحتوي على أربعة حقول:

1. **اسم الحقل:** هنا يجب تحديد اسم لحقل الارتباط مع الترجمة باللغة العربية والإنجليزية.

2. **الاسم النموذجي:** يحتوي على الاسم النموذجي لحقل الارتباط والذي يتم إنشاؤه تلقائيًا من الاسم باللغة الإنجليزية. يمكن تغيير هذا الاسم وهو يعمل كاسم فريد مثل الهوية  للحقل.

3. **الوصف:** اختياري ويمكن استخدامه لإضافة وصف لحقل الارتباط.

4. **نوع البيانات:** هنا يظهر نمط البيانات الذي يتم تخزينه في حقل الارتباط و هو في هاته الحالة: كيان.

### مصدر البيانات لحقل الارتباط

مصدر البيانات هو خاصية في إعدادات حقل الارتباط، تُمكّنك من تحديد مصدر البيانات لخيارات القائمة المنسدلة في هذا الحقل. يتم استخدام هذه الخاصية لتحديد مصدر البيانات الذي سيتم جلب الخيارات منه وعرضها في القائمة المنسدلة للمستخدم للاختيار.

**كيفية الاستخدام:**

1. قم بتحديد حقل الارتباط الذي ترغب في تعيين مصدر البيانات له.
2. في إعدادات حقل الارتباط، انتقل إلى قسم "مصدر البيانات".
3. قم باختيار إحدى الخيارات التالية كمصدر لبيانات القائمة المنسدلة:
   - **الكيانات:** يؤدي اختيار هذا الخيار إلى عرض حقل إضافي لاختيار الكيان الذي ترغب في استخدام مدخلاته كخيارات للقائمة المنسدلة.
   - **القوائم:** عند اختيار هذا الخيار، سيتم عرض حقل إضافي لاختيار "القوائم" التي ترغب في استخدام مدخلاتها كخيارات للقائمة المنسدلة.
 
##### منع الحلقات 

**الوصف:** تُمثل خاصية "منع الحلقات" ميزة هامة في حقل الارتباط تمنع حدوث حلقات في الارتباطات بين الكيانات. حينما تكون العلاقة بين الكيانات هي ارتباط ذاتي (مثل العلاقة "أب" - "ابن"), يمكن أن تكون هناك إمكانية لحدوث حلقة إذا تم اختيار كيان معين كـ "أب" للكيان الأخر. وبالتالي يكون هذا الكيان هو الـ "ابن" للكيان الأصلي، وهكذا.

**كيفية الاستخدام:**
1. عند تعيين حقل الارتباط بين الكيانات (مثل حقل العلاقة "أب" - "ابن")، قم بتفعيل خاصية "منع الحلقات" في إعدادات الحقل.

**سيناريو التحذير من الحلقات:**
لنفترض أن لدينا نظام لتتبع العائلات ويوجد كيان "محمد" له ارتباط ذاتي بـ "سلمى" كـ "ابن" ولكي يكتمل الارتباط يجب أن تكون "سلمى" هي "أم" لـ"محمد". في حالة تفعيل خاصية "منع الحلقات"، إذا حاول المستخدم اختيار "محمد" كـ "أب" لـ "سلمى" (بعد أن اختارها مسبقًا كـ "ابن")، ستحظر النظام هذا الارتباط، حيث يؤدي إلى حدوث حلقة في العلاقة.

**الفائدة من "منع الحلقات":**
تُمنع الحلقات للحفاظ على ترتيب ومنطق العلاقات بين الكيانات وتفادي أخطاء تسبب تداخلات أو تعقيدات في عرض البيانات. تضمن هذه الخاصية أن يكون لكل مدخل علاقة واحدة فقط مع المدخلات الأخرى في نمط ارتباط ذاتي، مما يضمن سلامة العرض واستقامة البيانات المرتبطة.

#####  متتالي 

التتالي هو خاصية في إعدادات حقل الارتباط، تُمكّنك من تفعيل التتالي بين كيانين (بناء قيم حقل ارتباط بناءا على قيمة حقل ارتباط آخر) عند تفعيل هذه الخاصية، يتم تمكين حقول إضافية لتحديد العلاقة بين الكيانين والحقل المراد الارتباط به في الكيان الحالي.

**كيفية الاستخدام:**

1. في حقل الارتباط الذي ترغب في تفعيل التتالي فيه، انتقل إلى قسم مصجر البيانات، اختر "الكيانات" قم باختيار كيان في الحقل الموالي و سيظهر لك زر"متتالي" قم بتفعيله.
2. في الحقل الموالي، قم بتحديد نوع التتالي من القائمة ( يرجع هذا الحقل إلى أحد حقول الارتباط المضافة في نفس الكيان الحالي و الذي تهدف إلى بناء التتالي معه).
3. في الحقل الموالي،  قم باختيار العلاقة التي ترغب ببناء التتالي عليها، من قائمة العلاقات المتاحة. ( القائمة تملأ من قائمة علاقات كيانك الحالي مع كيان حقل الارتباط الذي اخترته في الخطوة السابقة).

**مثال بسيط:**

لنفترض أن لدينا في كيان المهام حقلين، حقل "المديرالمباشر" و حقل "الموظف"، كلا الحقلين من نوع ارتباط بكيان "المستخدمين"، تفعيل التتالي في "الموظف" سيمكن -بمجرد اختيار المشرف- ، من ملأ قائمة المستخدمين في حقل "الموظف"من قائمة المستخدمين الذين يشرف عليهم المشرف الذي اخترناه من قبل، بدل ملئها من جميع المستخدمين في النظام.

#### القيمة الافتراضية 

يُمكن تعيين قيمة افتراضية لحقل الارتباط عند إنشاء مدخل جديد. يتم تحديد القيمة الافتراضية من خلال اختيار قيمة في حقل القيمة الافتراضية أو بواسطة تعبير برمجي عبر تفعيل زر "متقدم" في إعدادات حقل الارتباط. 

**كيفية الاستخدام: في حالة الرغبة في استعمال التعبير البرمجي:**

1. قم بفتح إعدادات حقل الارتباط.
2. قم بتفعيل زر "متقدم".
3. أدخل التعبير البرمجي الذي يمثل القيمة الافتراضية التي ترغب في تعيينها.
4. (اختياري) يمكنك استخدام حقول إضافية:
   - **قفل الحقل:** يمكن استخدامه لمنع التغيير في القيمة الافتراضية بعد إنشاء المدخل. عند تفعيل هذا الخيار، سيظهر حقل اخر تابع للقيمة الافتراضية.
    - **قوادح:** يمكن استخدامها لتحديد متى يتم تطبيق التعبير البرمجي للقيمة الافتراضية، مثل عند تحميل الصفحة، إرسال النموذج، تغيير 
    مدخل أو عند تغيير الحقل.


### قفل الحقل 

خاصية "قفل الحقل" تمنح المستخدم الحق في قفل حقل الارتباط عند إنشاء مدخل جديد. إذا تم تفعيل هذا الخيار، يظهر حقل إدخال إضافي في نطاقه، يُسمح فيه للمستخدم بإدخال تعبير برمجي (اختياري) لإضافة شرط لقفل الحقل.

**كيفية الاستخدام:**

1. قم بفتح إعدادات حقل الارتباط.
2. قم بتفعيل خاصية "قفل الحقل".
3. بعد التفعيل، سيظهر حقل إضافي. في هذا الحقل يمكن للمستخدم إدخال تعبير برمجي (اختياري) يحدد الشرط الذي يجب تحقيقه لقفل الحقل.
4. (اختياري) إذا تم تفعيل خيار "قفل الحقل"، يجب على المستخدم توفير قيمة افتراضية لحقل الارتباط.

### إخفاء الحقل 

يسمح للمستخدم بإخفاء حقل حقل الرقم بناءً على تعبير محدد، مما يجعله غير مرئي للمستخدم عند تعامله مع النموذج.

**كيفية الاستخدام:**

1. قم بتفعيل خاصية "إخفاء الحقل" من خلال الانتقال إلى إعدادات حقل الارتباط المراد إخفاؤه.
2. بعد تفعيلها، سيظهر حقل إضافي لإدخال التعبير البرمجي لتحديد شروط  إخفاء حقل الارتباط.

#### مطلوب 

يُحدد ما إذا كان حقل الارتباط مطلوبًا لإكمال النموذج أو يمكن تركه فارغًا.

**كيفية الاستخدام:**

1. قم بتفعيل خاصية "مطلوب" من خلال الانتقال إلى إعدادات حقل الارتباط المراد التحقق من إكماله.
2. بعد تفعيلها، سيظهر حقل إضافي لإدخال التعبير البرمجي لتحديد شروط جعل حقل الارتباط مطلوبًا.

### قابل للبحث 

خاصية "قابل للبحث" تسمح بتفعيل وظيفة البحث في حقل الارتباط عند عرض المدخلات في واجهة المستخدم. عند تفعيل هذه الخاصية في الحقل، يمكن للمستخدمين البحث عن القيم في هذا الحقل باستخدام خانة البحث في واجهة عرض المدخلات.

**كيفية الاستخدام:**

   1. قم بتفعيل خاصية "قابل للبحث" في إعدادات حقل الارتباط.
   2. بمجرد تفعيل الخاصية، سيتم تمكين وظيفة البحث في هذا الحقل.
   3. في الواجهات : عند النقر على زر البحث و إدخال الكلمة المراد البحث عنها في خانة البحث، يقوم النظام بالبحث في هذا الحقل أيضا.

**مثال بسيط:** 

 باستخدام خاصية "قابل للبحث" في حقل النص، يمكن للمستخدمين البحث بإدخال جزء من الاسم في خانة البحث. سيقوم النظام بعرض جميع اللتي تحتوي على الكلمة المدخلة في خانة البحث. سيقوم النظام بالبحث في جميع الحقول القابلة للبحث بما فيهم هذا الحقل.

### إعدادات قيمة الحقل

هذا القسم يحتوي على الخواص التالية : 

#### متعدد 

عند تفعيل خاصية "متعدد"، يُمكن للمستخدم اختيار أكثر من قيمة من بين الخيارات المتاحة.

**كيفية الاستخدام:**
لتفعيل خاصية القيم المتعددة، يُمكنك اتباع الخطوات التالية:

1. قم بالانتقال إلى قسم إعدادات حقل الارتباط.
2. ابحث عن الخيار "متعدد" وقم بتفعيله.
3. بعد التفعيل، سيُمكن للمستخدم اختيار أكثر من قيمة من بين الخيارات المتاحة.

#### قابل للتكرار 

 خاصية "قابل للتكرار" تمثل إمكانية تكرار إدخال نفس حقل الارتباط بقيم مختلفة في نفس المدخل. عند تفعيل هذا الخيار، يمكن للمستخدمين إضافة قيم متعددة لنفس الحقل ضمن مدخل واحد.

**كيفية الاستخدام:**

1. انتقل إلى "إعدادات حقل الارتباط" ثم إلى "إعدادات قيمة الحقل" المراد جعله قابلًا للتكرار.
2. تفعيل خاصية "قابل للتكرار".

**تحديد القيمة الدنيا والقيمة العليا للتكرار (اختياري):**

بعد تفعيل خاصية "قابل للتكرار"، سيظهر حقلين إضافيين يمكن استخدامهما لتحديد القيمة الدنيا والقيمة العليا لعدد مرات التكرار المسموح بها.

**ملاحظة:** إذا لم يتم ملء حقول تحديد القيمة الدنيا والقيمة العليا، فسيكون التكرار غير محدود، ويمكن للمستخدم إضافة قيم بشكل غير محدود لحقل الارتباط.

#### إظهار في القائمة 

 خاصية تسمح بعرض قيمة حقل الارتباط في قائمة المدخلات، بحيث يمكن للمستخدم رؤية قيمة الحقل بسهولة دون الحاجة لفتح كل المدخل على حدة.

**كيفية الاستخدام:**

1. في إعدادات حقل الارتباط قم بفتح قسم "إعدادات قيمة الحقل " ثم قسم "العرض"، هكذا ستظهر لك الخواص الخاصة بالعرض.
2. قم بتفعيل خيار "إظهار في القائمة".


#### طريقة إظهار حقل الارتباط:

هذه الخاصية تسمح باختيار طريقة عرض حقل الارتباط إما على شكل قائمة أو بشكل شجري وهي مفيدة لتنظيم البيانات بشكل هرمي، مما يسهل على المستخدمين فهم العلاقات بين المدخلات.

**خطوات تعريف حقل الارتباط مع تحديد طريقة العرض:**

1. تحديد خصائص حقل الارتباط:
   - اسم الحقل: أدخل اسمًا مناسبًا لحقل الارتباط.
   - الكيان المرتبط: اختر الكيان الذي ترغب في إنشاء ارتباط معه.
   - منع الحلقات: إذا كان حقل الارتباط مع نفس الكيان، قم بتفعيل خيار منع الحلقات.

2. اختيار طريقة العرض:
   - ستظهر لك قائمة "طريقة الإظهار".
   - قم باختيار طريقة الإظهار إما "قائمة" أو "شجري" وتكون القيمة الافتراضية هي "قائمة".

3. حفظ الإعدادات:
   - اضغط على زر "حفظ" لتأكيد إعدادات حقل الارتباط.
   - إذا كان حقل الارتباط معرفًا ليعرض القيم على شكل شجري ،سيتم عرض البيانات ضمن مستويات متدرجة كالشجرة 

#### ارتباط رئيسي 

الارتباط الرئيسي هو خاصية تُسند لحقل الارتباط في الكيان، وتُمكّنك من تحديد الارتباط الذي سيتم استخدامه كارتباط رئيسي للكيان.
