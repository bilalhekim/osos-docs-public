---
title: "تعديل تطبيق المهام"
sidebar_position: 7
---

بعد أن تم إنشاء تطبيق إدارة مهام [هنا](../my-first-application/creating-the-application/creating-module.md)، لنفترض أنه قد جاءنا طلب تعديله حيث أن كل مهمة يمكن أن تكون متعلقة بمهمة رئيسية، ويجب عرض المهام المرتبطة في تبويبة خاصة مع تفعيل العرض بشكل شجري ويحدد السرد فقط حسب المنشئ وحالة المهمة. 
لتنفيذ ذلك سنتبع الخطوات التالية:

### تعديل الكيان {#adding-task-self-reference}
1. الذهاب لكيان المهام المنشأ [هنا](../my-first-application/creating-the-application/creating-entity.md).
2. من خلال النقاط الثلاث أو من القائمة في الزاوية العليا، نقوم باختيار **تعديل الكيان**.
3. الآن نذهب لتبويبة **البنية**.
4. من قائمة الحقول الجانبية نختار حقل **ارتباط**.
5. نسحب الحقل ونفلته في المكان المناسب وليكن بعد حقل الوصف. عندها ستظهر نافذة منبثقة لتحديد مصدر الحقل، سنختار كيانًا ومن القائمة المنسدلة نختار كيان المهام نفسه.
6. نكتب اسم الحقل باللغتين: **المهمة الرئيسية**.
7. يمكننا الآن تحديد ما إذا كان هذا الحقل إجباري أو اختياري، سنقوم هنا بتفعيل خيار **إجباري**،
8. عندها علينا الانتباه لما سيحدثه هذا الخيار من تأثير على المدخلات القديمة، والتي ستصبح بالية، حيث سنرى لاحقًا كيفية معالجتها.
9. نضغط على مفتاح الحفظ، عندها سنلاحظ ظهور رسالة باللون الأخضر تخبرنا بنجاح عملية الحفظ.

### استعراض المهام بشكل شجري {#viewing-tasks-in-tree-view}
لإضافة إمكانية العرض بشكل شجري سنتبع الخطوات التالية:
1. الذهاب لتبويبة الواجهات ثم للمعرض الذي تم إنشاؤه [هنا](../my-first-application/creating-the-application/creating-views.md) والنقر عليه لتعديله.
2. نتأكد من إضافة الحقل الجديد في **الحقول** ضمن تبويبة معلومات العرض.
3. الذهاب لتبويبة عرض قائمة المهام والتأكد أيضًا من إضافة الحقل لقائمة الحقول المعروضة في الجدول (في حال كان مان خيار العرض كجدول مفعل) تفعيل مربع **الشكل الشجري**، هنا ستظهر بعض الحقول، نختارها كالتالي:
   - **حقل الارتباط** = المهمة الرئيسية.
   - **العنوان الرئيسي** = العنوان.
   - **العنوان الفرعي** = الوصف.
   - **صورة/ملف** = الرمز.
   - **حقل ارتباط** = في حالتنا هذه لن يتم ملئ هذا الحقل، ويمكن اختيار المهمة الرئيسية هنا أيضًا.
4. يمكن تفعيل العرض كإفتراضي على الشكل الشجري بحيث يكون العرض الأساسي عند استعراض المهام هو الشكل الشجري.
5. من أعلى الزاوية النقر على إنهاء، حيث ستظهر رسالة خضراء تؤكد الحفظ.

### إعادة تفعيل المدخلات البالية {#obsolete-entries-and-upgrading-them}
كما ذكرنا في **أولاً**، فإن إضافة حقل إجباري على الكيان ستؤثر على المدخلات القديمة حيث ستصبح **بالية** وستظهر المثلث الأحمر في بداية كل مدخل. لمعالجة هذا الأمر وإعادة تفعيل البيانات، سنتبع مايلي:

1. الذهاب إلى كيان المهام من التطبيقات ثم الكيانات، كيان المهام ثم نفتح تبويبة المدخلات.
2. في حال عدم ظهور مدخلات بالية، نتأكد من أن قائمة الحالة تتيح عرض المدخلات البالية.
3. نختار المدخل البالي (والذي يُعرف بوجود المثلث الأحمر)، ننقر عليه لنفتح تفاصيله.
4. ستظهر لنا رسالة أعلى المدخل تخبرنا بأن المدخل بالي يجب تحديثه لإعادة استخدامه.
5. سنقوم بالتقر على تحديث المهمة في الزاوية العليا، عندها سيفتح المدخل بوضعية التعديل مع ملاحظة الرسالة السابقة أعلى المدخل.
6. نقوم بتعديل المدخل بحيث نسند المهمة المرتبطة المناسبة للحقل **المهمة الرئيسية**.
7. ننقر على تحديث، ستظهر رسالة تأكيد **هل تريد تحديث جميع التغييرات**، سننقر على تحديث.
8. ستظهر رسالة خضراء تخبرنا بنجاح العملية.
9. نتابع على بقية المدخلات.

### إضافة علاقة المهام الفرعية {#adding-a-relation}
لتفعيل عرض المهام الفرعية في تبويبة خاصة نتبع الخطوات التالية:

1. من التطبيقات في الشريط الجانبي، نختار الكيانات ثم نختار كيان المهام.
2. نختار تبويبة العلاقات، عندها ستظهر لدينا تبويبتين **الواردة** و **الصادرة**.
3. سنختار تبويبة الواردة و سنحتار إضافة علاقة بالنقر على **+**.
4. ستظهر لنا نافذة فيها معلومات العلاقة التالية:
   - **الاسم**: سنكتب فيها "المهام الفرعية".
   - **الأيقونه**: هنا سنختار أيقونه مناسبة.
   - **الوصف**: سنكتب كمثال "هذه العلاقة تربط المهام الرئيسية بالمهام الفرعية التي تتبع لها".
   - **الكيان المتعلق**: سنختار من القائمة المنسدلة كيان المهام نفسه.
   - **الحقل المتعلق**: هنا سنختار من القائمة المنسدلة حقل **المهمة الرئيسية**.
5. سنقوم بالنقر على إنهاء، عندها ستظهر رسالة خضراء تخبرنا بنجاح العملية.
6. الذهاب لتبويبة الواجهات ثم للمعرض الذي تم إنشاؤه [هنا](../my-first-application/creating-the-application/creating-views.md) و النقر عليه لتعديله.
7. التنقل نزولاً حتى تبويبة عرض العلاقات، ومن ثم تفعيلها، حينها ستظهر جميع العلاقات الواردة و الصادرة.
8. سنحدد العلاقة التي أنشأناها **المهام الفرعية** و بالتالي من قائمة المعرض المنسدلة سنختار اسم هذا المعرض نفسه.
9. سننقر على إنهاء في الزاوية العلوية، لتظهر لنا رسالة خضراء تخبرنا بنجتح العملية.
10. لاختبار ما أنجزناه، ننتقل لتبويبة المدخلات في الكيان و ننقر على إحدى الكيانات افتحها، عندها سنجد تبويبة المهام الفرعية ظاهرة بجانب معلومات المهمة الأساسية.

### إضافة استعلام {#creating-a-query}
حسب ما تم طلبه أعلاه سنقوم فيما يلي بإنشاء استعلام وحفظه واستخدامه بشكل مباشر وكذلك ضمن المعرض لتحقيق متطلبات التعديل السابقة.

1. **أنشاء استعلام وحفظه:**
   - من قائمة الإدارة، التطبيقات ثم الكيانات نختار كيان المهام الخاص بنا.
   - بعد النقر عليه لفتحه ننتقل لتبويبة الاستعلامات.
   - بجانب **جميع الاستعلامات** نجد اشارة **+** ننقر عليها لإضافة استعلام.
   - ستظهر لنا نافذة منبثقة **استعلام جديد** لتحديد الشروط الخاصة بالاستعلام حسب مايلي:
     - قائمة منسدلة نحوي الخيارين **كل الشروط محققة** و **بعض الشروط محققة** سنختار **كل الشروط محققة**.
     - في السطر التالي نجد قائمة منسدلة **حدد/النوع** نختار منها الحقل المراد إجراء الاستعلام حسبه وليكن **حقول المدخل > الحالة** ثم نحتار العملية **يساوي**، بعد ذلك نختار **المصدر** = **ثابت** ومن القائمة التالية نختار القيمة **جديد**.
     - في السطر التالي نجد قائمة منسدلة **أضف شرط** نختار منها **أوصاف المدخل > الانشاء بواسطة** بعد ذلك نختار العملية **يساوي**، ثم نختار **المصدر** = **مؤشر** ومن حقل **المؤشرات** نختار **@me**. هذا معناه المهام التي تم إنشاؤها بواسطتي.
   - الآن في أسفل النافذة ننقر على حفظ ثم نكتب الاسم وليكن **مهامي الجديدة/my new tasks** ثم ننقر حفظ.

2. **تطبيق هذا الاستعلام:**
   - من تبويبة الاستعلامات سنجد أن الاستعلام السابق معروض عنوان وتحته الشرط ويظهر عليه خيار **تطبيق الاستعلام** عند النقر عليه يتم تنفيذ مجموعة الشروط واظهار جميع المهام الجديدة التي أنشأت بواسطتي.
   - يمكن استخدام هذا الاستعلام في الواجهات حيث يمكن تعديل المعرض واضافة هذا الاستعلام في حالة **مصدر العرض** = **استعلامات** في خانة **الاستعلام**. وبذلك يتقيد العرض حسب شروط هذا الاستعلام.

### إضافة عداد {#adding-a-counter}
تفيد العدادات كاختصار سريع للوصول لمعلومات المهام من خلال الشريط العلوي، حيث ستعرض عدد المهام التي تم إنشاؤها، وبذلك يسهل متابعتها. لإضافة إمكانية عرض العدادات، سنتبع الخطوات التالية:

1. الذهاب إلى تبويبة الواجهات ثم إلى المعرض الذي تم إنشاؤه [هنا](../my-first-application/creating-the-application/creating-views.md) والنقر عليه لتعديله.
2. نتأكد من إضافة الحقل الجديد في **الحقول** ضمن تبويبة معلومات العرض.
3. الذهاب لتبويبة عرض قائمة المهام وتفعيل مربع **بطاقات صغيرة**. هنا ستظهر بعض الحقول، نختارها كالتالي:
   - **العنوان الأساسي** = العنوان.
   - **العنوان الفرعي** = الوصف.
   - **الأيقونة**: هنا سنتركها فارغة.
   - **تاريخ** = تاريخ الانجاز.
4. من أعلى الزاوية، ننقر على **إنهاء**، حيث ستظهر رسالة خضراء تؤكد الحفظ.
5. الآن ننتقل إلى الشريط الجانبي **الإدارة > الواجهات > العدادات**.
6. من الزاوية العليا، ننقر على **إضافة عداد**، ستظهر نافذة منبثقة تحتوي على الحقول التالية:
   - **الاسم**: سنكتب مثلاً **مهامي**.

بعد اتباع هذه الخطوات، يجب عرض العداد الذي يظهر عدد المهام التي تم إنشاؤها بواسطتك في الشريط العلوي.
